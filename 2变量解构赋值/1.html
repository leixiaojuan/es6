<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>变量解构赋值</title>
  </head>
  <body>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.4.4/babel.min.js"></script> -->
    <script type="text/javascript">
      'user strict'
      {
        let [a, b, c] = [1, 2, 3]
        console.log(a, b, c)
      }

      {
        let [a = 5] = []
        let [b = 5] = ['']
        console.log(a, b)
      }

      // 对象解构
      // 对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，
      //变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。
      {
        let {foo, bar} = {foo: 'aaa', bar: 'bbb'}
        console.log(foo, bar)
      }

      // 默认值生效的条件是，对象的属性值严格等于undefined。
      {
        let {x: y = 5} = {y: 1}
        console.log(y)

        // 解构对象方法 对数、正弦、余弦
        let { log, sin, cos } = Math
        console.log(log)

        // 字符串
        let [a, b, c] = 'abc'
        console.log(a, b, c)

        // 数字
        let {toString: s} = 123
        console.log(s)
      }

      // 函数参数的解构
      console.log('%c 函数的解构! ', 'background: #222; color: #bada55')
      {
        function add([x, y]) {
          return x + y
        }

        console.log(add([1, 2]))

        // 默认值
        function move({x = 0, y = 0} = {}) {
          return [x, y]
        }

        console.log(move({x: 3, y: 3}))
        console.log(move({x: 3}))
        console.log(move({}))
        console.log(move())
      }

      // 不要在模式里面使用圆括号

      {
        console.log('交换变量的值')
        let x = 1
        let y = 2
        console.log(x, y)
        ;[x, y] = [y, x]
        console.log(x, y)
      }

      // 提取json数据
      {
        var data = {
          id: 45,
          name: '小明',
          age: 15
        }

        let {id, name, age} = data
        console.log(id, name, age)
      }

      {
        // map 结构
        let map = new Map()
        map.set('first', 1)
        map.set('second', 2)
        console.log(map)
        for (let [key, value] of map) {
          console.log(key, value)
        }
      }
    </script>
  </body>
</html>
